@page "/"
@inject IDialogService Dialog
@inject DataProvider Data


<h1>| Overview</h1>


<MudPaper Height="400px" Width="100%">
    <MudContainer MaxWidth="MaxWidth.Small">
        <MudPaper Height="400px" Width="100%" Square="true" Class="mud-theme-primary">
            <MudDivider DividerType="DividerType.Middle" Class="my-6" />
            @foreach (var Area in Sysdba.SavedData.Areas)
            {
                
                <MudCard>
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h6">@Area.StartLocation.Name -> @Area.Destiny.Name</MudText>
                        </CardHeaderContent>
                        <CardHeaderActions>
                            <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Error" />
                        </CardHeaderActions>
                    </MudCardHeader>
                    <MudCardContent>
                        <MudText>Planned Leave: @Area.EstimatedLeave</MudText>
                        <MudAlert Severity="Severity.Error">Road Closure!</MudAlert>
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton Variant="Variant.Text" Color="Color.Primary">Read More</MudButton>
                    </MudCardActions>
                </MudCard>
                <MudDivider DividerType="DividerType.Middle" Class="my-6" />
            }
        </MudPaper>
    </MudContainer>
</MudPaper>

<MudFab Color="Color.Primary" StartIcon="@Icons.Material.Filled.Add" OnClick="@((e) => OpenDialog(maxWidth))" />


@code {
    protected override void OnInitialized()
    {
        base.OnInitialized();
    }

    DialogOptions maxWidth = new DialogOptions() { MaxWidth = MaxWidth.Medium, FullWidth = true };

    private void OpenDialog(DialogOptions options)
    {
        Dialog.Show<AddArea>("Add new Destination", options);
    }

}